<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos - Barberia APOLO</title>

    <link rel="stylesheet" href="../css/style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link href="https://fonts.googleapis.com/css2?family=Aileron:wght@300;400;700&family=Montserrat:wght@400;700&family=Pinyon+Script&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="pagina-interna">

    <header class="main-header header-interno">
        <a href="../index.html" class="logo">
            <img src="../images/imgLogo.png" alt="Logo Barberia Apolo">
        </a>
        
        <nav class="main-nav">
            <ul>
                <li><a href="intSobre.html">Sobre</a></li>
                <li><a href="intServicios.html">Servicios Barberia</a></li>
                <li><a href="intServiciosSPA.html">Servicios SPA</a></li>
                <li><a href="intProductos.html" class="active">Productos</a></li>
                <li><a href="intQuienesSomos.html">Quienes somos</a></li>
                <li><a href="intUbicacion.html">Ubicación</a></li>
            </ul>
        </nav>
        <a href="#scheduleModal" class="btn-cta">Agendar horario</a>
    </header>

    <section id="producto-catalogo">
        <div class="container-content">
            
            <h1 class="section-title">CATÁLOGO DE PRODUCTOS</h1>
            
            <div class="catalogo-container">
                
                <button id="prev-btn" class="nav-arrow" aria-label="Producto anterior">
                    <i class="fas fa-chevron-left"></i>
                </button>
                
                <div class="catalogo-slider">
                    </div>
                
                <button id="next-btn" class="nav-arrow" aria-label="Siguiente producto">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <div class="catalogo-info">
                <h2 id="producto-nombre">...</h2>
                <span id="producto-precio">...</span>
                <p id="producto-desc">...</p>
                <a href="https://wa.me/message/3AYVJOAZ6KT2C1" target="_blank" class="btn-cta">Consultar por WhatsApp</a>
            </div>

        </div>
    </section>
    
    <a href="https://wa.me/message/3AYVJOAZ6KT2C1" class="whatsapp-float" target="_blank" title="Contactar por WhatsApp">
        <img src="../images/imgIconWhts.png" alt="Contactar por WhatsApp">
    </a>

    <script>
        // 1. La base de datos de tus productos
        const products = [
            {
                name: "Gummy duo Shave gel y after Shave",
                price: "$---.--",
                desc: "El gel proporciona un afeitado más suave y cómodo, mientras que el after shave calma la piel.",
                img: "../images/imgGummy.jpeg"
            },
            {
                name: "Cera gel efecto húmedo",
                price: "$---.--",
                desc: "Cera gel de fijación fuerte, ideal para un look con efecto húmedo y controlado.",
                img: "../images/imgCera1.jpeg"
            },
            {
                name: "Firm pomade",
                price: "MX$340.00",
                desc: "Fórmula a base de agua que proporciona una fijación firme y brillo medio.",
                img: "../images/imgPomade.jpeg"
            },
            {
                name: "Shampoo caída",
                price: "MX$320.00",
                desc: "Shampoo de acción refrescante formulado para ayudar a prevenir la caída del cabello.",
                img: "../images/imgShampooCaida.jpeg"
            },
            {
                name: "Shampoo Lumina",
                price: "MX$380.00",
                desc: "Shampoo matizador para cabello rubio o con canas, neutraliza tonos amarillos.",
                img: "../images/imgShampooLumida.jpeg"
            },
            {
                name: "Extra Hold Gel",
                price: "MX$300.00",
                desc: "Su consistencia es perfecta para crear peinados duraderos con máxima fijación.",
                img: "../images/imgExtraGEl.jpeg"
            },
            {
                name: "Balsami presto",
                price: "MX$350.00",
                desc: "Tratamiento revitalizante intensivo que repara y da brillo al cabello al instante.",
                img: "../images/imgBalami.jpeg"
            }
        ];

        // 2. Elementos del DOM
        const slider = document.querySelector('.catalogo-slider');
        const nombreProducto = document.getElementById('producto-nombre');
        const precioProducto = document.getElementById('producto-precio');
        const descProducto = document.getElementById('producto-desc');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');

        let currentIndex = 0;
        let slides = []; // Array para guardar las tarjetas

        // 3. Crear las tarjetas de producto dinámicamente
        products.forEach((product, index) => {
            const slide = document.createElement('div');
            slide.className = 'slider-item';
            slide.innerHTML = `<img src="${product.img}" alt="${product.name}">`;
            
            // Añadir el 'click' para seleccionar este producto
            slide.onclick = () => {
                selectProduct(index);
            };
            
            slider.appendChild(slide);
            slides.push(slide); // Guardar la tarjeta en el array
        });

        // 4. Función para seleccionar un producto
        function selectProduct(index) {
            // Validar límites
            if (index < 0) index = 0;
            if (index >= products.length) index = products.length - 1;
            
            currentIndex = index;
            const product = products[index];

            // Centrar el carrusel en el ítem seleccionado
            const slideWidth = slides[0].offsetWidth;
            const gap = 30; // El 'gap' del CSS
            const offset = (slider.offsetWidth / 2) - (slideWidth / 2); // Centrar en la pantalla
            const newTransform = `translateX(${offset - index * (slideWidth + gap)}px)`;
            
            slider.style.transform = newTransform;

            // Actualizar la información
            nombreProducto.innerText = product.name;
            precioProducto.innerText = product.price;
            descProducto.innerText = product.desc;

            // Actualizar clases 'active' (para el efecto de escala)
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
            
            // Habilitar/deshabilitar botones de flecha
            prevBtn.disabled = (currentIndex === 0);
            nextBtn.disabled = (currentIndex === products.length - 1);
        }

        // 5. Conectar los botones de flecha
        prevBtn.onclick = () => {
            selectProduct(currentIndex - 1);
        };
        
        nextBtn.onclick = () => {
            selectProduct(currentIndex + 1);
        };

        // 6. Cargar el primer producto al inicio
        window.onload = () => {
            // Esperar un milisegundo para que el navegador calcule los anchos
            setTimeout(() => selectProduct(0), 100);
        };

    </script>
</body>
</html>